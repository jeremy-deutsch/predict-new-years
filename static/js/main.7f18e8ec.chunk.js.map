{"version":3,"sources":["components/SongItem/SongItem.js","components/SongItem/index.js","index.js","components/SongItem/SongItem.module.css","index.module.css"],"names":["imgSrc","iconButtonStyle","fontSize","padding","SongItem","React","memo","props","totalPayout","Number","tokens","odds","toFixed","react_default","a","createElement","className","styles","container","songInfoContainer","songInfoTextContainer","songTitleText","title","artistNameText","artist","spotify","href","concat","target","src","alt","spotifyLogo","height","bettingContainer","oddsContainer","oddsText","outcomeText","IconButton_default","style","onClick","removeToken","hasTokens","addToken","MAX_TOKENS","buttonStyle","disabled","backgroundColor","color","fontWeight","fontFamily","marginTop","width","rootElement","document","getElementById","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","spentTokens","setSpentTokens","useCallback","songName","objectSpread","defineProperty","totalTokensUsed","values","reduce","x","y","renderSongItem","song","components_SongItem","key","_useState3","_useState4","name","setName","emailLink","encodeURIComponent","JSON","stringify","errorMessage","submitDisabled","Boolean","headerTitleText","tokensLeftText","sectionTitleText","sectionDescriptionText","songData","new","map","old","yourNameText","type","yourNameInput","onChange","e","value","Button_default","variant","attributionText","module","exports"],"mappings":"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","file":"static/js/main.7f18e8ec.chunk.js","sourcesContent":["import React from \"react\";\nimport { string, number, bool, func } from \"prop-types\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport styles from \"./SongItem.module.css\";\nconst imgSrc =\n  \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Spotify_logo_without_text.svg/168px-Spotify_logo_without_text.svg.png\";\n\nfunction SongItem(props) {\n  const totalPayout = Number((props.tokens * props.odds).toFixed(2));\n\n  return (\n    <div className={styles.container}>\n      <div>\n        <div className={styles.songInfoContainer}>\n          <div className={styles.songInfoTextContainer}>\n            <div className={styles.songTitleText}>{props.title}</div>\n            <div className={styles.artistNameText}>{props.artist}</div>\n          </div>\n          {!!props.spotify && (\n            <a\n              href={`https://open.spotify.com/track/${props.spotify}`}\n              target=\"_blank\"\n            >\n              <img\n                src={imgSrc}\n                alt=\"spotify\"\n                className={styles.spotifyLogo}\n                height=\"40\"\n              />\n            </a>\n          )}\n        </div>\n      </div>\n      <div className={styles.bettingContainer}>\n        <div className={styles.oddsContainer}>\n          <div className={styles.oddsText}>\n            {props.odds}\n            {!props.tokens && \" pts\"}\n          </div>\n          {!!props.tokens && (\n            <div className={styles.outcomeText}>\n              &nbsp;x {props.tokens} = {totalPayout} pts\n            </div>\n          )}\n        </div>\n        <div>\n          {!!props.tokens && (\n            <IconButton\n              style={iconButtonStyle}\n              onClick={() => props.removeToken(props.title)}\n            >\n              ‚ùå\n            </IconButton>\n          )}\n          {!!props.hasTokens && (\n            <IconButton\n              style={iconButtonStyle}\n              onClick={() => props.addToken(props.title)}\n            >\n              ü§ë\n            </IconButton>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nSongItem.propTypes = {\n  title: string.isRequired,\n  artist: string,\n  tokens: number.isRequired,\n  odds: number.isRequired,\n  hasTokens: bool.isRequired,\n  addToken: func.isRequired,\n  removeToken: func.isRequired\n};\n\n// CSS doesn't work easily for material-ui\nconst iconButtonStyle = {\n  fontSize: 20,\n  padding: 6\n};\n\nexport default React.memo(SongItem);\n","import SongItem from \"./SongItem\";\n\nexport default SongItem;\n","import React, { useState, useCallback } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport SongItem from \"./components/SongItem\";\nimport songData from \"./songData.json\";\nimport \"./global.css\";\nimport styles from \"./index.module.css\";\n\nimport Button from \"@material-ui/core/Button\";\n\nconst MAX_TOKENS = 8;\n\nfunction App() {\n  const [spentTokens, setSpentTokens] = useState({});\n\n  const addToken = useCallback(\n    songName => {\n      setSpentTokens(spentTokens =>\n        spentTokens[songName]\n          ? { ...spentTokens, [songName]: spentTokens[songName] + 1 }\n          : { ...spentTokens, [songName]: 1 }\n      );\n    },\n    [setSpentTokens]\n  );\n\n  const removeToken = useCallback(\n    songName => {\n      setSpentTokens(spentTokens =>\n        spentTokens[songName]\n          ? { ...spentTokens, [songName]: spentTokens[songName] - 1 }\n          : spentTokens\n      );\n    },\n    [setSpentTokens]\n  );\n\n  const totalTokensUsed = Object.values(spentTokens).reduce((x, y) => x + y, 0);\n  const hasTokens = totalTokensUsed < MAX_TOKENS;\n\n  const renderSongItem = song => (\n    <SongItem\n      title={song.title}\n      artist={song.artist}\n      tokens={spentTokens[song.title]}\n      hasTokens={hasTokens}\n      odds={song.odds}\n      spotify={song.spotify}\n      addToken={addToken}\n      removeToken={removeToken}\n      key={song.title}\n    />\n  );\n\n  const [name, setName] = useState(\"\");\n\n  const emailLink = `mailto:torpedobets@gmail.com?subject=${encodeURIComponent(\n    name\n  )}&body=${encodeURIComponent(\"Send this email to submit your guesses!\\n\\n\") + JSON.stringify(spentTokens)}`;\n\n  let errorMessage = null;\n  if (totalTokensUsed < MAX_TOKENS) {\n    errorMessage = `Use all your tokens! You have ${MAX_TOKENS -\n      totalTokensUsed} left.`;\n  }\n\n  const submitDisabled = Boolean(errorMessage) || !name;\n\n  return (\n    <div>\n      <div>\n        <div className={styles.headerTitleText}>\n          Predict the Zuerserhof New Years' Playlist\n        </div>\n        <div>\n          Every year, The Torpedos perform at the Zuerserhof's new years'\n          celebration, performing old standbys as well as a couple new hits\n          every year. Send in your guesses as to what they'll play this year!\n          You get {MAX_TOKENS} tokens; use them to place bets on songs and earn\n          points if those songs get played.\n        </div>\n      </div>\n      <div className={styles.tokensLeftText}>\n        Tokens left: {MAX_TOKENS - totalTokensUsed}\n      </div>\n      <div>\n        <div className={styles.sectionTitleText}>New Songs</div>\n        <div className={styles.sectionDescriptionText}>\n          These are popular songs that came out this year. Their individual\n          chances are pretty low, so you can win a lot of points here.\n        </div>\n        <div>{songData.new.map(renderSongItem)}</div>\n      </div>\n      <div>\n        <div className={styles.sectionTitleText}>Classic Hits</div>\n        <div className={styles.sectionDescriptionText}>\n          These are songs that the Torpedos played in previous years. They're\n          pretty safe bets, but you can't win a lot from them.\n        </div>\n        <div>{songData.old.map(renderSongItem)}</div>\n      </div>\n      <div>\n        <div className={styles.yourNameText}>Your Name</div>\n        <input\n          type=\"text\"\n          className={styles.yourNameInput}\n          onChange={e => setName(e.target.value)}\n          value={name}\n        />\n      </div>\n      {!!errorMessage && <div>{errorMessage}</div>}\n      <Button\n        variant=\"contained\"\n        style={buttonStyle(submitDisabled)}\n        href={emailLink}\n        disabled={submitDisabled}\n      >\n        Submit\n      </Button>\n      <div className={styles.attributionText}>Created by Jeremy Deutsch</div>\n    </div>\n  );\n}\n\n// css doesn't work with material-ui\nconst buttonStyle = disabled => ({\n  backgroundColor: disabled ? \"#c1dad6\" : \"#6d929b\",\n  color: \"white\",\n  fontWeight: 600,\n  fontFamily: \"Open Sans\",\n  fontSize: 18,\n  marginTop: 16,\n  width: \"100%\"\n});\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SongItem_container__1PdzW\",\"songInfoContainer\":\"SongItem_songInfoContainer__3DoEm\",\"songInfoTextContainer\":\"SongItem_songInfoTextContainer__F8FM9\",\"songTitleText\":\"SongItem_songTitleText__3vONb\",\"artistNameText\":\"SongItem_artistNameText__3yebF\",\"bettingContainer\":\"SongItem_bettingContainer__2yze8\",\"oddsContainer\":\"SongItem_oddsContainer__D8Nl4\",\"oddsText\":\"SongItem_oddsText__11fxf\",\"outcomeText\":\"SongItem_outcomeText__G6MHE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerTitleText\":\"src_headerTitleText__cgqQ_\",\"tokensLeftText\":\"src_tokensLeftText__1s159\",\"sectionTitleText\":\"src_sectionTitleText__3ARPW\",\"sectionDescriptionText\":\"src_sectionDescriptionText__ko7SE\",\"yourNameText\":\"src_yourNameText__36nMR\",\"yourNameInput\":\"src_yourNameInput__Wle21\",\"attributionText\":\"src_attributionText__A6wiA\"};"],"sourceRoot":""}